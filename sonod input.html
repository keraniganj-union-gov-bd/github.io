<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <title>সনদ ইনপুট</title>
  <style>
    body {
      font-family: 'Siyam Rupali', Arial, sans-serif;
      margin: 20px;
    }
    h2 {
      color: darkgreen;
    }
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 6px;
    }
    #summary {
      margin-top: 15px;
      font-weight: bold;
    }
    input, button {
      margin: 5px;
    }
  </style>
</head>
<body>

  <h2>সনদ ইনপুট ফর্ম</h2>

  <form id="dataForm">
    <label>নাম: <input type="text" id="name" required></label>
    <label>সম্পর্ক: <input type="text" id="relation" required></label>
    <label>বয়স: <input type="number" id="age" required></label>
    <button type="submit">যোগ করুন</button>
  </form>

  <table id="dataTable">
    <thead>
      <tr>
        <th>ক্রমিক নং</th>
        <th>নাম</th>
        <th>সম্পর্ক</th>
        <th>বয়স</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <div id="summary">মোট জনসংখ্যা: ০ জন</div>

  <button onclick="generateCertificate()">সনদ নম্বর জেনারেট করুন</button>
  <div id="certificateNumber"></div>

  <script>
    let data = [];
    let serial = 1;

    document.getElementById('dataForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('name').value;
      const relation = document.getElementById('relation').value;
      const age = document.getElementById('age').value;

      data.push({ serial: serial++, name, relation, age });
      renderTable();

      // Clear form
      document.getElementById('dataForm').reset();
    });

    function renderTable() {
      const tbody = document.querySelector('#dataTable tbody');
      tbody.innerHTML = '';
      data.forEach(row => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${row.serial}</td><td>${row.name}</td><td>${row.relation}</td><td>${row.age}</td>`;
        tbody.appendChild(tr);
      });

      document.getElementById('summary').innerText = `মোট জনসংখ্যা: ${data.length} জন`;
    }

    function generateCertificate() {
      const number = '2' + Math.floor(1000000000000000 + Math.random() * 9000000000000000);
      document.getElementById('certificateNumber').innerHTML = `সনদ নম্বর: <b>${number}</b>`;

      localStorage.setItem(number, JSON.stringify(data));
      alert('সনদ তথ্য সংরক্ষিত হয়েছে!');
    }
  </script>

</body>
</html>
